(function(c){c.hidden=function(f,k){var m={phrase:"Bonne annee 2012"},a=this;a.settings={};var n=function(){a.nbLettres=Math.floor(a.nbLigne*a.nbCol);a.nbTableau=Math.ceil(a.nbLettres/a.lettres.length);var b=a.lettres;for(i=0;i<a.nbTableau-1;i++)b=b.concat(a.lettres);for(var e,g,d=b.length;d;e=parseInt(Math.random()*d),g=b[--d],b[d]=b[e],b[e]=g);a.lettres=b;for(i=a.k=0;i<a.nbLigne-1;i++)for(j=0;j<a.nbCol-1;j++)l=c('<span class="lettre" id="l'+a.k+'">'+a.lettres[a.k]+"</span>").css({textAlign:"center",
"float":"left",display:"block",width:"35px",height:"35px",border:"1px solid black",fontSize:"30px",cursor:"pointer"}),a.stage.append(l),a.k++},h=function(){var b=parseInt(Math.random()*a.k);return a.items.inArray("l"+b)?h():b},o=function(){a.reponse.length==a.items.length?(chrono=new Date,a.end=chrono.getTime(),c(".lettre:not(.ok)").remove(),c.each(a.exclus,function(b){c(".l"+a.exclus[b]+":first").unbind().removeClass("l"+a.exclus[b]).css({position:"absolute",border:"0px"}).animate({left:35*b+"px"})}),
victoire=c("<span>Votre score : "+Math.floor(100*a.exclus.length*a.nbLettres-(a.end-a.start))+"</span>").css({position:"absolute",top:"40px",left:"0px"}),a.stage.append(victoire)):alert("tricheur")};(function(){a.settings=c.extend({},m,k);a.el=f;a.items=[];a.lettres=[];a.exclus=[];a.reponse=[];Array.prototype.inArray=function(a){for(var b=this.length,c=0;c<b;c++)if(this[c]==a)return!0;return!1};c("body").css({margin:0,padding:0,width:"100%",height:"100%"});a.stage=f;a.stage.css({position:"relative"});
a.stageWidth=c(window).width();a.stageHeight=c(window).height()-a.stage.position().top;a.nbLigne=Math.floor(a.stageHeight/35)-1;a.nbCol=Math.floor(a.stageWidth/35);a.exclus=a.settings.phrase.toUpperCase().split("");for(i=1;26>=i;i++)sAlpha=String.fromCharCode(64+i),a.exclus.inArray(sAlpha)||a.lettres.push(sAlpha),10>i&&!a.exclus.inArray(i)&&a.lettres.push(i);n();for(i=0;i<a.exclus.length;i++)if(" "!=a.exclus[i]){var b=h();c("#l"+b).css({color:"red"}).text(a.exclus[i]).click(function(){c(this).addClass("l"+
c(this).text());c(this).addClass("ok");var b=c(this).attr("id");a.items.inArray(b)&&(a.reponse.inArray(b)?alert("Tu as d\u00e9ja valid\u00e9 cet \u00e9l\u00e9ment"):a.reponse.push(b),a.reponse.length==a.items.length&&o())});a.items.push("l"+b)}chrono=new Date;a.start=chrono.getTime()})()}})(jQuery);